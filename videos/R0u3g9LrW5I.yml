# Editing guidelines: https://github.com/watch-devtube/contrib/#how-to-edit-video-metadata

tags:
    - functional
title: 'Vault ''20 - Accelerating Filesystem Checking and Repair with pFSCK'
language: English
recordingDate: 1585169382
description: "Accelerating Filesystem Checking and Repair with pFSCK\n\nDavid Domingo and Sudarsun Kannan, Rutgers University; Kyle Stratton\n\nFile system checking and recovery (C/R) tools play a pivotal role in increasing the reliability of storage software identifying and correcting file system inconsistencies. However, with increasing disk capacity and data content, file system C/R tools notoriously suffer from a long-running time. We posit that the current file system checkers fail to exploit CPU parallelism and high throughput offered by modern storage devices.\n\nTo overcome these challenges, we propose pFSCK, a tool that redesigns C/R to enable fine-grained parallelism at the granularity of inodes without impacting the correctness of C/Râ€™s functionality. To accelerate C/R, pFSCK first employs data parallelism by identifying functional operations in each stage of the checker and isolating dependent operation and their shared data structures. However, fully isolating shared structures is infeasible, consequently requiring serialization that limits scalability. To reduce the impact of synchronization bottlenecks and exploit CPU parallelism, pFSCK designs pipeline parallelism allowing multiple stages of C/R to run simultaneously without impacting correctness. To realize efficient pipeline parallelism for different file system data configurations, pFSCK provides techniques for ordering updates to global data structures, efficient per-thread I/O cache management, and dynamic thread placement across different passes of a C/R. Finally, pFSCK designs a resource-aware scheduler aimed towards reducing the impact on other applications shar- ing CPUs and the file system. Evaluation of pFSCK shows more than 3.72x gains of FSCK and 1.71x over XFS checker that provides coarse-grained parallelism.\n\nView the full Vault '20 program at https://www.usenix.org/conference/vault20/program"
